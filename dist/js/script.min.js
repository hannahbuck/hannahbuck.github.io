function applyAnchor(n){for(var e=document.getElementsByTagName(n),h="",t="",l=0;l<e.length;l++)h=e[l].innerHTML.replace(/ /g,"-"),"h2"===n&&(t=' <a href="#'+h+'">#</a>'),e[l].innerHTML=e[l].innerHTML+'<span id="'+h+'" class="anchor">'+t+"</span>\n"}function buildContents(n){applyAnchor("h1"),applyAnchor("h2"),document.getElementById(n).innerHTML=buildList(document.getElementsByClassName("anchor"))}function buildList(n){for(var e=null,h="<ul>\n",t="</ul>\n",l="<li>",a="</li>\n",i="  ",o="    ",r=null,u=[],s=0;s<n.length;s++)r='<a href="#'+n[s].id+'">'+n[s].id.replace(/-/g," ")+"</a>",s?"H1"===n[s].parentElement.nodeName?"h1"===e?(u.push([t,h,i,l,r,a].join("")),e="h1"):(u.push([i,t,t,h,i,l,r,a].join("")),e="h1"):"h1"===e?(u.push([i,h,o,l,r,a].join("")),e="h2"):(u.push([o,l,r,a].join("")),e="h2"):(r='<a href="#">'+n[s].id.replace(/-/g," ")+"</a>",u.push([h,i,l,r,a].join("")),e="h1");return"h2"===e?u.push([i,t,t].join("")):u.push([t].join("")),u.length>2?"<h3>Page contents</h3>\n"+u.join(""):""}buildContents("tableOfContents");